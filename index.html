<html>
  <head> </head>
  <body>
    <button id="kick" disabled>Kick</button>
    <button id="snare" disabled>Snare</button>
    <button id="HHclosed" disabled>High hat (closed)</button>
    <button id="HHopen" disabled>High hat (open)</button>
    <button id="clap" disabled>Clap</button>
    <button id="rimshot" disabled>Rimshot</button>
    <button id="tom" disabled>Tom</button>
    <button id="cymbal" disabled>Cymbal</button>
    <script src="howler.core.min.js"></script>
    <script>
      (async function () {
        const sound = new Howl({
          src: ["drums.webm", "drums.mp3"],
          sprite: {
            clap: [0, 3809.523809523809, true],
            cymbal: [5000, 3809.52380952381, true],
            HHclosed: [10000, 3809.52380952381, true],
            HHopen: [15000, 3809.52380952381, true],
            kick: [20000, 3809.52380952381, true],
            rimshot: [25000, 3809.52380952381, true],
            snare: [30000, 3809.52380952381, true],
            tom: [35000, 3809.52380952381, true],
          },
          mute: true,
        });

        let trackMutes = [];
        const clap = sound.play("clap");
        trackMutes[clap] = true;
        const cymbal = sound.play("cymbal");
        trackMutes[cymbal] = true;
        const HHclosed = sound.play("HHclosed");
        trackMutes[HHclosed] = true;
        const HHopen = sound.play("HHopen");
        trackMutes[HHopen] = true;
        const kick = sound.play("kick");
        trackMutes[kick] = true;
        const rimshot = sound.play("rimshot");
        trackMutes[rimshot] = true;
        const snare = sound.play("snare");
        trackMutes[snare] = true;
        const tom = sound.play("tom");
        trackMutes[tom] = true;

        function toggleMute(id) {
          trackMutes[id] = !trackMutes[id];
          sound.mute(trackMutes[id], id);
        }

        function playClap() {
          sound.mute(false);
        }

        const playKickBtn = document.querySelector("#kick");
        playKickBtn.addEventListener("click", () => toggleMute(kick));
        playKickBtn.disabled = false;

        const playSnareBtn = document.querySelector("#snare");
        playSnareBtn.addEventListener("click", () => toggleMute(snare));
        playSnareBtn.disabled = false;

        const playHHclosedBtn = document.querySelector("#HHclosed");
        playHHclosedBtn.addEventListener("click", () => toggleMute(HHclosed));
        playHHclosedBtn.disabled = false;

        const playHHopenBtn = document.querySelector("#HHopen");
        playHHopenBtn.addEventListener("click", () => toggleMute(HHopen));
        playHHopenBtn.disabled = false;

        const playRimshotBtn = document.querySelector("#rimshot");
        playRimshotBtn.addEventListener("click", () => toggleMute(rimshot));
        playRimshotBtn.disabled = false;

        const playClapBtn = document.querySelector("#clap");
        playClapBtn.addEventListener("click", () => toggleMute(clap));
        playClapBtn.disabled = false;

        const playTomBtn = document.querySelector("#tom");
        playTomBtn.addEventListener("click", () => toggleMute(tom));
        playTomBtn.disabled = false;

        const playCymbalBtn = document.querySelector("#cymbal");
        playCymbalBtn.addEventListener("click", () => toggleMute(cymbal));
        playCymbalBtn.disabled = false;
      })();
    </script>
  </body>
</html>
